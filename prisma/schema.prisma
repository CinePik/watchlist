// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  seed     = "prisma/seed.ts"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Movie {
  id               Int      @id
  userId           Int
  movieComments    MovieComment[]
  watched          Boolean @default(false) 
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
 
  @@unique([userId, id])
}

model Show {
  id               Int      @id
  userId           Int
  season           Int
  episode          Int
  showComments     ShowComment[]
  watched          Boolean @default(false) 
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  @@unique([userId, id, season, episode])
}

model MovieComment {
  id               Int      @id @default(autoincrement())
  movieId          Int
  comment          String
  rating           Float?
  movie            Movie    @relation(fields: [movieId], references: [id])
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}


model ShowComment {
  id               Int      @id @default(autoincrement())
  showId  	       Int
  comment          String
  rating           Float?
  show             Show    @relation(fields: [showId], references: [id])
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

